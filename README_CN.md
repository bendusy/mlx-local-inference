<p align="center">
  <h1 align="center">ğŸ§  MLX æœ¬åœ°æ¨ç†å…¨å®¶æ¡¶</h1>
  <p align="center">
    è®©ä½ çš„ Apple Silicon Mac å­¦ä¼šå¬ã€çœ‹ã€è¯»ã€è¯´ã€æƒ³ â€” å®Œå…¨æœ¬åœ°åŒ–ã€‚
  </p>
  <p align="center">
    <a href="https://clawhub.ai/skills/mlx-local-inference"><img src="https://img.shields.io/badge/ClawHub-mlx--local--inference-FF5A36?style=flat-square" alt="ClawHub"></a>
    <a href="#"><img src="https://img.shields.io/badge/å¹³å°-macOS%20Apple%20Silicon-000?style=flat-square&logo=apple&logoColor=white" alt="Platform"></a>
    <a href="#"><img src="https://img.shields.io/badge/è¿è¡Œæ—¶-MLX-blue?style=flat-square" alt="MLX"></a>
    <a href="LICENSE"><img src="https://img.shields.io/badge/è®¸å¯è¯-MIT-green?style=flat-square" alt="License"></a>
  </p>
  <p align="center">
    <a href="README.md">English</a> Â· <b>ä¸­æ–‡</b>
  </p>
</p>

---

## ä¸ºä»€ä¹ˆåšè¿™ä¸ª

ä½ çš„ M ç³»åˆ— Mac æœ‰å¼ºå¤§çš„ Neural Engine å’Œç»Ÿä¸€å†…å­˜ï¼Œä½†å¤§å¤šæ•° AI å·¥ä½œæµä»ç„¶æŠŠæ¯ä¸ªè¯·æ±‚å‘åˆ°äº‘ç«¯ â€” æ…¢ã€è´µã€è¿˜æœ‰éšç§é¡¾è™‘ã€‚

**MLX Local Inference Stack** æŠŠä½ çš„ Mac å˜æˆä¸€å°è‡ªç»™è‡ªè¶³çš„ AI å·¥ä½œç«™ã€‚æˆ‘ä»¬é€ä¸€æµ‹è¯•å¹¶ç²¾é€‰äº†å„æ¨¡æ€ä¸‹è¡¨ç°æœ€å¥½çš„ MLX æ¨¡å‹ â€” è¯­éŸ³è¯†åˆ«ã€æ–‡å­—ç”Ÿæˆã€OCRã€è¯­éŸ³åˆæˆã€å‘é‡åµŒå…¥ â€” æ‰“åŒ…æˆä¸€å¥—å¼€ç®±å³ç”¨çš„æœ¬åœ°æ¨ç†æ–¹æ¡ˆã€‚è£…ä¸Šä¹‹åï¼Œä½ çš„ Mac å°±æ‹¥æœ‰äº†**å¬ã€çœ‹ã€è¯»ã€è¯´ã€æƒ³**çš„å®Œæ•´èƒ½åŠ›ï¼Œå…¨ç¨‹ç¦»çº¿ã€‚

æ­é… [OpenClaw](https://github.com/openclaw/openclaw) ç­‰ AI æ™ºèƒ½ä½“ä½¿ç”¨æ•ˆæœå°¤ä½³ï¼šè¯­éŸ³è½¬å½•ã€æ–‡æ¡£è¯†åˆ«ã€æ–‡æœ¬çº é”™ã€è¯­ä¹‰æœç´¢ã€è¯­éŸ³æ’­æŠ¥â€¦â€¦è¿™äº›ä»¥å‰ä¾èµ–äº‘ç«¯ API çš„ç¯èŠ‚ï¼Œç°åœ¨å…¨éƒ¨åœ¨æœ¬åœ°å®Œæˆï¼Œäº¤äº’æ›´å¿«ã€æˆæœ¬ä¸ºé›¶ã€æ•°æ®ä¸å‡ºæœºã€‚

## ä½ çš„ Mac è·å¾—äº†ä»€ä¹ˆ

| èƒ½åŠ› | åšä»€ä¹ˆ | ç²¾é€‰æ¨¡å‹ |
|:-----|:-------|:---------|
| ğŸ‘‚ **å¬** | è½¬å½• 99 ç§è¯­è¨€çš„è¯­éŸ³ï¼Œç²¤è¯­/æ™®é€šè¯è¡¨ç°å°¤å¼º | Qwen3-ASR-1.7B Â· Whisper-v3-turbo |
| ğŸ‘ï¸ **çœ‹** | ä»ç…§ç‰‡ã€æˆªå›¾ã€ç¥¨æ®ã€æ–‡æ¡£ä¸­æå–æ–‡å­— | PaddleOCR-VL-1.5 |
| ğŸ§  **æƒ³** | å¯¹è¯ã€æ¨ç†ã€å†™ä»£ç ã€ç¿»è¯‘ã€æ€»ç»“ | Qwen3-14B Â· Gemma3-12B |
| ğŸ—£ï¸ **è¯´** | ç”Ÿæˆè‡ªç„¶è¯­éŸ³ï¼Œæ”¯æŒè‡ªå®šä¹‰éŸ³è‰²å…‹éš† | Qwen3-TTS-1.7B |
| ğŸ“ **ç†è§£** | æ–‡æœ¬å‘é‡åŒ–ï¼Œè¯­ä¹‰æœç´¢ã€RAGã€æ–‡æ¡£ç´¢å¼• | Qwen3-Embedding 0.6B Â· 4B |
| ğŸ“ **è½¬å½•** | ä¸¢å…¥éŸ³é¢‘æ–‡ä»¶ï¼Œè‡ªåŠ¨è·å¾—æ ¡å¯¹è¿‡çš„æ–‡ç¨¿ | ASR + LLM æ ¡å¯¹æµæ°´çº¿ |

æ¯ä¸ªæ¨¡å‹éƒ½ç»è¿‡å®æµ‹ç­›é€‰ï¼Œåœ¨ Apple Silicon ä¸Šå–å¾—è´¨é‡ã€é€Ÿåº¦ã€å†…å­˜å ç”¨çš„æœ€ä½³å¹³è¡¡ã€‚è¿™ä¸æ˜¯å…­ä¸ªæ‹¼å‡‘çš„å·¥å…·ï¼Œè€Œæ˜¯ä¸€å¥—**å®Œæ•´çš„æœ¬åœ° AI è¿è¡Œæ—¶**ã€‚

## æ•´ä½“æ¶æ„

```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚    ä½ çš„æ™ºèƒ½ä½“    â”‚
                        â”‚ (OpenClaw ç­‰)   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚ OpenAI å…¼å®¹ API
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â–¼               â–¼               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  ç«¯å£ 8787  â”‚  â”‚ ç«¯å£ 8788 â”‚  â”‚   CLI      â”‚
          â”‚            â”‚  â”‚           â”‚  â”‚            â”‚
          â”‚ Â· LLM      â”‚  â”‚ Â· ASR     â”‚  â”‚ Â· OCR      â”‚
          â”‚ Â· Whisper  â”‚  â”‚ Â· TTS     â”‚  â”‚            â”‚
          â”‚ Â· Embed    â”‚  â”‚           â”‚  â”‚            â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚               â”‚               â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Apple Silicon (MLX)   â”‚
                    â”‚     ç»Ÿä¸€å†…å­˜ Â· GPU       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æ‰€æœ‰æœåŠ¡æä¾› **OpenAI å…¼å®¹ API**ï¼Œä»»ä½•æ”¯æŒ OpenAI åè®®çš„å·¥å…·ã€SDKã€æ™ºèƒ½ä½“éƒ½èƒ½ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€é€‚é…å™¨ã€‚

## ç¯å¢ƒè¦æ±‚

- Apple Silicon Macï¼ˆM1 / M2 / M3 / M4ï¼‰
- macOS 14+
- Python 3.10+
- æ¨è 32GB+ å†…å­˜ï¼ˆ16GB å¯è¿è¡Œï¼Œä½†æ— æ³•åŒæ—¶åŠ è½½å¤šæ¨¡å‹ï¼‰

## å®‰è£…

### ä½œä¸º OpenClaw Skill

```bash
clawhub install mlx-local-inference
```

### ç›´æ¥å…‹éš†

```bash
git clone https://github.com/bendusy/mlx-local-inference.git
cd mlx-local-inference
pip install mlx mlx-lm mlx-audio mlx-vlm openai
```

æ¨¡å‹åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶è‡ªåŠ¨ä¸‹è½½ã€‚å¦‚éœ€é¢„å…ˆæ‹‰å–ï¼š

<details>
<summary>é¢„ä¸‹è½½å…¨éƒ¨æ¨¡å‹</summary>

```bash
huggingface-cli download Qwen/Qwen3-14B-MLX-4bit
huggingface-cli download mlx-community/gemma-3-text-12b-it-4bit
huggingface-cli download mlx-community/Qwen3-ASR-1.7B-8bit
huggingface-cli download mlx-community/whisper-large-v3-turbo
huggingface-cli download mlx-community/Qwen3-Embedding-0.6B-4bit-DWQ
huggingface-cli download mlx-community/PaddleOCR-VL-1.5-6bit
huggingface-cli download mlx-community/Qwen3-TTS-12Hz-1.7B-CustomVoice-8bit
```

</details>

## ä½¿ç”¨ç¤ºä¾‹

### ğŸ§  æƒ³ â€” LLM å¯¹è¯

```bash
curl http://localhost:8787/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "qwen3-14b",
    "messages": [{"role": "user", "content": "ç”¨ä¸€å¥è¯è§£é‡Šé‡å­è®¡ç®—"}]
  }'
```

<details>
<summary>Python ç¤ºä¾‹</summary>

```python
from openai import OpenAI

client = OpenAI(base_url="http://localhost:8787/v1", api_key="unused")
r = client.chat.completions.create(
    model="qwen3-14b",
    messages=[{"role": "user", "content": "ä½ å¥½"}],
)
print(r.choices[0].message.content)
```

</details>

å†…ç½®ä¸¤ä¸ª LLMï¼š**Qwen3-14B**ï¼ˆä¸­æ–‡æœ€å¼ºã€è‡ªå¸¦æ€ç»´é“¾æ¨ç†ï¼‰å’Œ **Gemma3-12B**ï¼ˆè‹±æ–‡/ä»£ç å¿«é€Ÿå“åº”ï¼‰ï¼ŒæŒ‰ä»»åŠ¡é€‰æ‹©å³å¯ã€‚

### ğŸ‘‚ å¬ â€” è¯­éŸ³è¯†åˆ«

```bash
# ç²¤è¯­ / æ™®é€šè¯ â†’ Qwen3-ASR
curl http://localhost:8788/v1/audio/transcriptions \
  -F file=@audio.wav -F model=mlx-community/Qwen3-ASR-1.7B-8bit -F language=zh

# 99 ç§è¯­è¨€ â†’ Whisper
curl http://localhost:8787/v1/audio/transcriptions \
  -F file=@audio.wav -F model=whisper-large-v3-turbo
```

æ”¯æŒæ ¼å¼ï¼š`wav`ã€`mp3`ã€`m4a`ã€`flac`ã€`ogg`ã€`webm`

### ğŸ‘ï¸ çœ‹ â€” OCR æ–‡å­—è¯†åˆ«

```bash
python -m mlx_vlm.generate \
  --model mlx-community/PaddleOCR-VL-1.5-6bit \
  --image document.jpg --prompt "OCR:" --max-tokens 512 --temp 0.0
```

### ğŸ—£ï¸ è¯´ â€” è¯­éŸ³åˆæˆ

```bash
curl http://localhost:8788/v1/audio/speech \
  -H "Content-Type: application/json" \
  -d '{"model":"mlx-community/Qwen3-TTS-12Hz-1.7B-CustomVoice-8bit","input":"ä½ å¥½ä¸–ç•Œ"}' \
  -o speech.wav
```

### ğŸ“ ç†è§£ â€” æ–‡æœ¬å‘é‡åŒ–

```bash
curl http://localhost:8787/v1/embeddings \
  -H "Content-Type: application/json" \
  -d '{"model": "qwen3-embedding-0.6b", "input": ["æ–‡æ¡£ä¸€", "æ–‡æ¡£äºŒ"]}'
```

ä¸¤ä¸ªè§„æ ¼ï¼š**0.6B** å¿«é€Ÿæ£€ç´¢ï¼Œ**4B** é«˜ç²¾åº¦è¯­ä¹‰åŒ¹é…ã€‚

### ğŸ“ è½¬å½• â€” è‡ªåŠ¨æµæ°´çº¿

æŠŠéŸ³é¢‘æ–‡ä»¶ä¸¢è¿› `~/transcribe/`ï¼Œå…¶ä½™çš„äº¤ç»™å®ˆæŠ¤è¿›ç¨‹ï¼š

1. Qwen3-ASR è½¬å½• â†’ `æ–‡ä»¶å_raw.md`
2. Qwen3-14B çº é”™ã€è¡¥æ ‡ç‚¹ã€ä¿ç•™ç²¤è¯­ç”¨å­— â†’ `æ–‡ä»¶å_corrected.md`
3. å½’æ¡£è‡³ `~/transcribe/done/`

ä¸ç”¨æ•²å‘½ä»¤ï¼Œä¸¢æ–‡ä»¶å°±è¡Œã€‚

## æ¨¡å‹é€‰å‹ä¾æ®

æ¯ä¸ªæ¨¡å‹éƒ½ç»è¿‡å®æœºæµ‹è¯•ï¼Œåœ¨è´¨é‡ä¸æ•ˆç‡ä¹‹é—´å–æœ€ä½³å¹³è¡¡ï¼š

| æ¨¡æ€ | æ¨¡å‹ | ä¸ºä»€ä¹ˆé€‰å®ƒ |
|:-----|:-----|:-----------|
| LLMï¼ˆä¸­æ–‡ï¼‰ | Qwen3-14B 4bit | åŒå°ºå¯¸æœ€å¼ºä¸­è‹±åŒè¯­ï¼Œå†…ç½®æ€ç»´é“¾ |
| LLMï¼ˆè‹±æ–‡ï¼‰ | Gemma3-12B 4bit | å“åº”å¿«ã€ä»£ç ç”Ÿæˆå¼ºã€å†…å­˜å ç”¨ä½ |
| ASRï¼ˆä¸­æ–‡ï¼‰ | Qwen3-ASR-1.7B 8bit | ç²¤è¯­/æ™®é€šè¯å‡†ç¡®ç‡æœ€é«˜ï¼ŒæŒ‰éœ€åŠ è½½ |
| ASRï¼ˆå¤šè¯­è¨€ï¼‰ | Whisper-v3-turbo | 99 ç§è¯­è¨€ï¼Œå¸¸é©»å†…å­˜ï¼Œä¹…ç»è€ƒéªŒ |
| Embeddingï¼ˆå¿«ï¼‰ | Qwen3-Embedding-0.6B 4bit | ä½å»¶è¿Ÿï¼Œæ—¥å¸¸æ£€ç´¢å¤Ÿç”¨ |
| Embeddingï¼ˆç²¾ï¼‰ | Qwen3-Embedding-4B 4bit | é«˜ç²¾åº¦è¯­ä¹‰åŒ¹é… |
| OCR | PaddleOCR-VL-1.5 6bit | ~185 token/sï¼Œ3.3 GBï¼Œç²¾åº¦é€Ÿåº¦æ¯”æœ€ä¼˜ |
| TTS | Qwen3-TTS-1.7B 8bit | è‡ªå®šä¹‰éŸ³è‰²å…‹éš†ï¼Œçº¦ 2 GB |

## æœåŠ¡ç®¡ç†

```bash
# ä¸»æœåŠ¡ï¼ˆLLM + Whisper + Embeddingï¼‰
launchctl kickstart -k gui/$(id -u)/com.mlx-server

# ASR + TTS æœåŠ¡
launchctl kickstart -k gui/$(id -u)/com.mlx-audio-server

# è‡ªåŠ¨è½¬å½•å®ˆæŠ¤è¿›ç¨‹
launchctl kickstart gui/$(id -u)/com.mlx-transcribe-daemon
```

## ç›®å½•ç»“æ„

```
mlx-local-inference/
â”œâ”€â”€ SKILL.md              # OpenClaw æŠ€èƒ½å®šä¹‰
â”œâ”€â”€ README.md             # English
â”œâ”€â”€ README_CN.md          # ä¸­æ–‡ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ LICENSE
â””â”€â”€ references/           # å„æ¨¡å‹è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
    â”œâ”€â”€ asr-qwen3.md
    â”œâ”€â”€ asr-whisper.md
    â”œâ”€â”€ embedding-qwen3.md
    â”œâ”€â”€ llm-qwen3-14b.md
    â”œâ”€â”€ llm-gemma3-12b.md
    â”œâ”€â”€ llm-models-reference.md
    â”œâ”€â”€ ocr.md
    â”œâ”€â”€ transcribe-daemon.md
    â””â”€â”€ tts-qwen3.md
```

## è´¡çŒ®

æ¬¢è¿æ Issue å’Œ PRã€‚å„æ¨¡å‹çš„è¯¦ç»†æŠ€æœ¯æ–‡æ¡£è§ `references/` ç›®å½•ã€‚

## è®¸å¯è¯

[MIT](LICENSE)
